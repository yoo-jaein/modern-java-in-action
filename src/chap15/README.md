# Chapter 15 CompletableFuture와 리액티브 프로그래밍 컨셉의 시초

## 매시업 애플리케이션
요즘에는 독립적으로만 동작하는 웹사이트나 애플리케이션을 찾아보기 힘들다. 앞으로의 애플리케이션은 다양한 소스의 콘텐츠를 합치고 가공하는 매시업(mashup) 형태가 될 가능성이 크다. 이런 애플리케이션을 구현하려면 다양한 서비스에 접근해야 한다. 하지만 이들 서비스의 응답을 기다리는 동안 연산이 블록되거나 CPU 클록 사이클 자원을 낭비하고 싶진 않다. 예를 들어 페이스북의 데이터를 기다리는 동안 트위터 데이터를 처리하지 말라는 법은 없다. 애플리케이션의 생산성을 극대화할 수 있도록 코어를 바쁘게 유지하기 위해 자바에서는 여러 도구를 제공한다. 

## 동시성 vs 병렬성
동시성은 단일 코어 머신에서 발생할 수 있는 프로그래밍 속성이다. 실행이 서로 겹칠 수 있다.
병렬성은 병렬 실행을 하드웨어 수준에서 제공한다.

## 자바의 동시 프로그래밍
1. 처음에는 Runnable과 Thread를 동기화된 클래스와 메서드를 이용해 잠갔다.
2. 자바 5에서 스레드 실행과 태스크 제출을 분리하는 ExecutorService, Runnable과 Thread의 변형을 반환하는 Callable<T>와 Future<T>, 제네릭 등을 지원한다.
3. 자바 7에서 분할-정복 알고리즘의 포크/조인 구현을 지원하는 RecursiveTask가 추가되었다.
4. 자바 8에서 스트림과 람다 지원에 기반한 병렬 프로세싱이 추가되었으며, Future를 조합하는 CompletableFuture를 지원한다.
5. 자바 9에서 분산 비동기 프로그래밍으로 발행-구독 프로토콜(Pub-Sub)을 지원한다.

## 스레드와 추상화
```java
sum = Arrays.stream(stats).parallel().sum();
```
7장에서 자바 스트림으로 외부 반복(명시적 루프) 대신 내부 반복을 통해 병렬성을 쉽게 달성할 수 있었다. 병렬 스트림 반복은 명시적으로 스레드를 사용하는 것에 비해 높은 수준의 개념이라는 사실을 알 수 있다. 다시 말해 스트림을 이용해 스레드 사용 패턴을 추상화할 수 있다.

## Executor와 스레드풀


